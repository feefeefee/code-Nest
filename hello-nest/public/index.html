<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="https://unpkg.com/axios@0.24.0/dist/axios.min.js"></script>
    <script src="https://unpkg.com/qs@6.10.2/dist/qs.js"></script>
  </head>
  <body>
    hello
    <input id="fileInput" type="file" multiple/>

    <script>
/*       async function urlParam() {
        const data = {}
        const url = '/api/person/1'
        const res =  await fetch(url, {
          method: "GET", // *GET, POST, PUT, DELETE, etc.
          mode: "cors", // no-cors, *cors, same-origin
          cache: "no-cache", // *default, no-cache, reload, force-cache, only-if-cached
          credentials: "same-origin", // include, *same-origin, omit
          headers: {
            // "Content-Type": "application/json",
            // 'Content-Type': 'application/x-www-form-urlencoded',
          },
          redirect: "follow", // manual, *follow, error
          referrerPolicy: "no-referrer", // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url
          // body: JSON.stringify(data), // body data type must match "Content-Type" header
        });
   
        // return res.json(); // parses JSON response into native JavaScript objects
      }
     

      urlParam();  */

       async function urlParam() {
            const res = await axios.get('/api/person/1');
            console.log(res);            
        }
        urlParam(); 

        async function query() {
            const res = await axios.get('/api/person/find', {
                params: {
                    name: '哀木涕',
                    age: 20
                }
            });
            console.log(res);            
        }
        query();

        async function formUrlEncoded() {
            const res = await axios.post('/api/person', Qs.stringify({
                name: '哀木涕',
                age: 20
            }), {
                headers: { 'content-type': 'application/x-www-form-urlencoded' }
            });
            console.log(res);  
        }

        formUrlEncoded();

        async function json() {
            const res = await axios.post('/api/person', {
                name: '哀木涕',
                age: 20
            });
            console.log(res);     
        }
        json();

        const fileInput = document.querySelector('#fileInput');

async function formData() {
    const data = new FormData();
    data.set('name','光');
    data.set('age', 20);
    data.set('file1', fileInput.files[0]);
    data.set('file2', fileInput.files[1]);

    const res = await axios.post('/api/person/file', data, {
        headers: { 'content-type': 'multipart/form-data' }
    });
    console.log(res);     
}

fileInput.onchange = formData;
    </script>
  </body>
</html>
